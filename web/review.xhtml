<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
<h:head>
    <title>Movie Review</title>
    <h:outputStylesheet name="bootstrap.css" library="css"/>
</h:head>
<body>
<ui:include src="WEB-INF/control_panel.xhtml"/>
<h:panelGroup styleClass="container ">
    <h:panelGroup styleClass="row justify-content-center align-items-center" >
        <h:panelGroup styleClass="col-md-12">
            <h:panelGroup styleClass="col-md-3" >
            </h:panelGroup>
            <h:panelGroup styleClass="col-md-6" >
                <h2 class="text-center text-info pt-5">
                    <h:outputText styleClass="text-center text-info" value="Rating #{reviewBean.movieController.movieDataInContext.title}" />
                </h2>
                <h:form styleClass="form" style=" margin: auto">
                        <h:panelGroup styleClass="form-group">
                            <h:outputText styleClass="text-info" value="Rating"/>
                            <h:selectOneMenu styleClass="form-control"
                                             id="ratingSelect"
                                             value="#{reviewBean.rating}"
                                             required="true"
                                             requiredMessage="Pleaser rate the movie">
                                <f:selectItem itemLabel="0" itemValue="0"/>
                                <f:selectItem itemLabel="1" itemValue="1"/>
                                <f:selectItem itemLabel="2" itemValue="2"/>
                                <f:selectItem itemLabel="3" itemValue="3"/>
                                <f:selectItem itemLabel="4" itemValue="4"/>
                                <f:selectItem itemLabel="5" itemValue="5"/>
                            </h:selectOneMenu>
                            <h:message styleClass="alert alert-warning" style="padding: 8px; !important;" for="ratingSelect"/>
                        </h:panelGroup>
                        <br/><br/>
                        <h:panelGroup styleClass="form-group">
                            <h:outputText styleClass="text-info" value="Comment"/>
                            <h:inputTextarea styleClass="form-control"
                                             id="commentInputText"
                                             rows="5"
                                             cols="40"
                                             value="#{reviewBean.comment}"
                                             validatorMessage="Max 100 chars">
                                <f:validateLength for="commentInputText"
                                                  maximum="100"/>
                            </h:inputTextarea>
                            <h:message styleClass="alert alert-warning" style="padding: 8px; !important;" for="commentInputText"/>
                        </h:panelGroup>
                        <br/><br/>
                        <h:commandButton styleClass="btn btn-success btn-md" value="Save Rating" id="saveCommentButton" action="#{reviewBean.movieController.saveReview(reviewBean.comment, reviewBean.rating)}"/>
                        <h:message styleClass="alert alert-warning" style="padding: 8px; !important;" for="saveCommentButton"/>
                </h:form>
            </h:panelGroup>
        </h:panelGroup>
    </h:panelGroup>
</h:panelGroup>
</body>
</html>
